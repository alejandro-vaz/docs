---
title: "Write"
description: "Prints all bytes until it finds a null one."
icon: "pen"
iconType: "solid"
---

<RequestExample>
```rust From system.rs
systemWrite(pointer);
```
</RequestExample>

<ResponseExample>
```rust Wrapper system.rs
//
//  IMPORTS
//

// IMPORTS -> BLOCK
unsafe extern "C" {
    fn systemWrite(pointer: *const u8) -> ();
    fn systemExit(code: u8) -> !;
}


//
//  WRAPPERS
//

// WRAPPERS -> WRITE
#[inline(always)]
pub fn write(pointer: *const u8) -> () {unsafe{systemWrite(pointer)}}

// WRAPPERS -> EXIT
#[inline(always)]
pub fn exit(code: u8) -> ! {unsafe{systemExit(code)}}
```
</ResponseExample>


## Implementation
<CodeGroup dropdown>
```asm write.asm lines expandable
;
;   HEAD
;

; HEAD -> GLOBALS
global systemWrite

; HEAD -> MARK
section .text


;
;   SYSTEM
;

; SYSTEM -> WRITE
systemWrite:;                                                                   systemWrite(rdi)
    mov rsi, rdi
    xor rcx, rcx
    .find:
        cmp byte [rsi + rcx], 0
        je .found
        inc rcx
        jmp .find
    .found:
        mov rax, 1
        mov rdi, 1
        mov rdx, rcx
        syscall
        ret
```
```wasm write.wat lines expandable
;; SYSTEM -> WRITE
(func $systemWrite (param $pointer i32)
    (local $current i32)
    local.get $pointer
    local.set $current
    block $break
        loop $scan
            local.get $current
            i32.load8_u
            i32.eqz
            br_if $break
            local.get $current
            i32.const 1
            i32.add
            local.set $current
            br $scan
        end
    end
    local.get $current
    local.get $pointer
    i32.sub
    local.get $pointer
    call $call1
)(export "systemWrite" (func $systemWrite))


```
</CodeGroup>